<app-default-auth-layout
  titlePage="Bem-vindo(a)!"
  subTitlePage="Insira o endereço de email da sua conta KelvinBoard para criar uma senha"
  pageTitle="Primeiro Acesso"
>
  <form [formGroup]="createPasswordForm" class="flex flex-col w-full">
    <div class="flex flex-col gap-4">
      <app-base-input
        [control]="emailControl"
        formControlName="email"
        label="Email"
        type="email"
        placeholder="Seu endereço de email"
      >
        <i class="ph ph-envelope-simple"></i>
      </app-base-input>

      <app-base-input
        [control]="codeControl"
        formControlName="code"
        label="Código"
        type="text"
        placeholder="Seu código de acesso"
      >
        <i class="ph ph-key"></i>
      </app-base-input>
      <p class="text-xs ml-3 -mt-3">
        Código(mock) para testes de acesso:
        <span class="text-red-500 font-bold">123456</span>
      </p>

      <app-base-input
        [control]="newPasswordControl"
        formControlName="newPassword"
        label="Senha"
        type="password"
        placeholder="Sua senha"
      >
        <i class="ph ph-password"></i>

        <div card-passwordStrengthIndicator class="h-1 w-[95%] bg-gray-200 rounded mt-2 mx-auto">
          <div
            class="h-1 rounded transition-all duration-300"
            [ngClass]="{
              'bg-red-500 w-1/4': passwordStrengthLevel  === 'weak',
              'bg-yellow-500 w-2/4': passwordStrengthLevel  === 'medium',
              'bg-blue-600 w-3/4': passwordStrengthLevel  === 'strong',
              'bg-green-500 w-full': passwordStrengthLevel  === 'veryStrong',
            }"
          ></div>
        </div>
      </app-base-input>


      <app-base-input
        [control]="newPasswordConfirmControl"
        [form]="createPasswordForm"
        formControlName="newPasswordConfirm"
        type="password"
        placeholder="Confirme sua senha"
        class="-mt-3"
      >
        <i class="ph ph-password"></i>
      </app-base-input>
    </div>
    
    <div class="flex flex-col items-center justify-center gap-4 w-full mt-8">
      <button
        type="submit"
        class="w-full py-3 px-6 rounded-lg text-base font-medium bg-primary text-white shadow-[0_8px_12px_rgba(148,64,255,0.2)] outline-none focus:outline-2 focus:outline-secondary focus:bg-secondary hover:bg-secondary duration-300 ease-in-out"
        (click)="submit()"
      >
        Criar senha
      </button>
      <a
        routerLink="/login"
        routerLinkActive="active-page"
        class="text-sm rounded-xl text-secondary hover:text-primary outline-none focus:text-primary focus:underline hover:underline duration-300 ease-in md:flex-row md:gap-1 lg:px-3"
      >
        Já possui uma senha? Faça login.
      </a>
    </div>
  </form>
</app-default-auth-layout>
